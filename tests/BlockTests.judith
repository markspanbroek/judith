object BlockTests := Object |[

    method blockHasOwnScope 
    [
        object foo := true
        [
            object foo := false
            Assert.that(not foo).isTrue
        ]
        Assert.that(foo).isTrue
    ]
    
    method emptyBlockIsAllowed
    [
        []
    ]
    
    method blockIsProcedure
    [
        Assert.that([] : Procedure).isTrue
    ]
    
    method blockHasRunMethod
    [
        object wasRun := false
        [ wasRun := true ].run
        Assert.that(wasRun).isTrue
    ]
    
    method runMethodPassesParameters
    [
        object wasRun := false
        [ x -> wasRun := x ].run(true)
        Assert.that(wasRun).isTrue
    ]
]|

BlockTests
    .blockHasOwnScope
    .emptyBlockIsAllowed
    .blockIsProcedure
    .blockHasRunMethod
    .runMethodPassesParameters
